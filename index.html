<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Control de Actividades</title>
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" type="text/css" href="estilos.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1 class="title">Control de Actividades</h1>
      <button id="themeToggle" class="theme-toggle" title="Cambiar tema">
        <span class="theme-icon">‚òÄÔ∏è</span>
      </button>
    </div>

    <div class="content">
      <div class="sidebar">
        <div class="user-card">
          <div class="avatar">
            <div class="avatar-content">
              N
              <div class="avatar-badge">‚úì</div>
            </div>
          </div>
          <div class="user-label">Reporte de Horarios</div>
          <div class="user-name">Nicolas Godoy</div>

          <div class="time-filters">
            <button class="filter-btn active" id="Dia">D√≠a</button>
            <button class="filter-btn" id="Mes">Mes</button>
            <button class="filter-btn" id="Anio">A√±o</button>
          </div>
        </div>

        <div class="export-buttons">
          <button id="btnCreateActivity" class="export-btn"
            style="background: #ff6b35; color: white; justify-content: center; font-weight: bold;">+ Nueva
            Actividad</button>
          <div class="export-divider" style="height: 1px; background: rgba(255,255,255,0.1); margin: 10px 0;"></div>

          <button id="btnCopy" class="export-btn" style="background-color: #20e2d7; color: #1c204b; font-weight: bold;"
            title="Copia los datos para pegarlos (Ctrl+V) en Google Sheets o Excel">üìã Copiar para Excel/Sheets</button>
          <button id="btnImport" class="export-btn import">üì• Importar Datos</button>
          <input type="file" id="fileInput" accept=".json" style="display: none;">
        </div>
      </div>

      <div class="grid" id="sectionCards">
        <!-- Cards will be injected here by JS -->
      </div>
    </div>
  </div>

  <!-- Modal para Agregar Tiempo -->
  <div id="addTimeModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Agregar Tiempo</h2>
        <span class="modal-close">&times;</span>
      </div>

      <div class="modal-body">
        <p class="modal-activity-name" id="modalActivityTitle">Actividad</p>

        <div class="form-group">
          <label for="hoursInput">Horas trabajadas:</label>
          <input type="number" id="hoursInput" min="0.1" step="0.5" placeholder="Ej: 2.5" class="input-hours">
        </div>

        <div class="form-group">
          <label for="notesInput">Notas (opcional):</label>
          <textarea id="notesInput" rows="3" placeholder="Describe lo que hiciste..." class="input-notes"></textarea>
        </div>
      </div>

      <div class="modal-footer">
        <button id="btnCancelTime" class="btn-modal btn-cancel">Cancelar</button>
        <button id="btnSaveTime" class="btn-modal btn-save">Guardar</button>
      </div>
    </div>
  </div>
  </div>

  <!-- Modal para Editar Actividad -->
  <div id="editActivityModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Editar Actividad</h2>
        <span class="modal-close-edit">&times;</span>
      </div>

      <div class="modal-body">
        <p class="modal-activity-name" id="editModalActivityTitle">Actividad</p>

        <div class="form-group">
          <label for="editHoursInput">Horas Totales (Actuales):</label>
          <input type="number" id="editHoursInput" min="0" step="0.1" class="input-hours">
        </div>

        <p style="font-size: 12px; color: #aaa; margin-top: 10px;">
          * Esto sobreescribir√° el total de horas para el per√≠odo seleccionado.
        </p>
      </div>

      <div class="modal-footer">
        <button id="btnCancelEdit" class="btn-modal btn-cancel">Cancelar</button>
        <button id="btnSaveEdit" class="btn-modal btn-save">Guardar Cambios</button>
      </div>
    </div>
  </div>

  <!-- Modal para Crear Actividad -->
  <div id="createActivityModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Nueva Actividad</h2>
        <span class="modal-close-create">&times;</span>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="newActivityName">Nombre de la Actividad:</label>
          <input type="text" id="newActivityName" class="input-hours" placeholder="Ej: Lectura">
        </div>
        <div class="form-group">
          <label>Tipo (Color):</label>
          <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <button type="button" class="color-option" data-color="trabajo"
              style="width: 30px; height: 30px; background: linear-gradient(to right, #ff5e62, #ff9966); border-radius: 50%; border: 2px solid transparent;"></button>
            <button type="button" class="color-option" data-color="juego"
              style="width: 30px; height: 30px; background: linear-gradient(to right, #56CCF2, #2F80ED); border-radius: 50%; border: 2px solid transparent;"></button>
            <button type="button" class="color-option" data-color="estudio"
              style="width: 30px; height: 30px; background: linear-gradient(to right, #ff0844, #ffb199); border-radius: 50%; border: 2px solid transparent;"></button>
            <button type="button" class="color-option" data-color="ejercicio"
              style="width: 30px; height: 30px; background: linear-gradient(to right, #43e97b, #38f9d7); border-radius: 50%; border: 2px solid transparent;"></button>
            <button type="button" class="color-option" data-color="social"
              style="width: 30px; height: 30px; background: linear-gradient(to right, #a18cd1, #fbc2eb); border-radius: 50%; border: 2px solid transparent;"></button>
            <button type="button" class="color-option" data-color="autocuidado"
              style="width: 30px; height: 30px; background: linear-gradient(to right, #f6d365, #fda085); border-radius: 50%; border: 2px solid transparent;"></button>
          </div>
          <input type="hidden" id="newActivityColor" value="trabajo">
        </div>
      </div>
      <div class="modal-footer">
        <button id="btnCancelCreate" class="btn-modal btn-cancel">Cancelar</button>
        <button id="btnSaveCreate" class="btn-modal btn-save">Crear</button>
      </div>
    </div>
  </div>

  <footer class="Contenido-Footer"></footer>

  <script type="module" src="/js/app.js"></script>

</body>

</html>